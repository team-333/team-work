<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC 	
		"-//mybatis.org//DTD Mapper 3.0//EN" 
		"http://mybatis.org/dtd/mybatis-3-mapper.dtd">
		
<mapper namespace="com.itbank.dao.StudyDAO">
	<select id="selectAllStudies" resultType="StudyVO">
		select * from team 
			order by teamid asc
	</select>
	
	<insert id="insertStudy" parameterType="StudyVO">
		insert into team 
		(TEAMNAME, TEAMINFO, TEAMPUBLIC, TEAMPICTURE, DELEGATE) 
			values (#{teamName}, #{teamInfo}, #{teamPublic}, #{teamPicture}, #{delegate})
	</insert>
	
	<select id="selectSeq" resultType="int">
	select max(teamid) from team
	</select>


	<insert id="memberTeamInsert" parameterType="com.itbank.vo.MemberTeamVO">
	insert into memberteam(memberid, teamid) values(#{memberId}, #{teamId})
	</insert>
	
	<select id="selectMemberStudies" parameterType="int" resultType="StudyVO">
		select team.* from memberteam 
			join team on team.teamid = memberteam.teamid
			where memberteam.memberid = #{memberId}
	</select>
	
</mapper>
		
